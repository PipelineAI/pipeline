{
  "paragraphs": [
    {
      "text": "%md \nExact Set Similarity (Jaccard)\n![Jaccard Similarity](http://fluxcapacitor.com/img/jaccard-similarity-1.png)\n![Jaccard Similarity](http://fluxcapacitor.com/img/jaccard-similarity-2.png)",
      "dateUpdated": "Feb 5, 2016 5:53:50 AM",
      "config": {
        "colWidth": 12.0,
        "graph": {
          "mode": "table",
          "height": 300.0,
          "optionOpen": false,
          "keys": [],
          "values": [],
          "groups": [],
          "scatter": {}
        },
        "enabled": true,
        "editorMode": "ace/mode/markdown",
        "editorHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "jobName": "paragraph_1452833466741_1910150883",
      "id": "20160115-045106_1203796104",
      "result": {
        "code": "SUCCESS",
        "type": "HTML",
        "msg": "\u003cp\u003eExact Set Similarity (Jaccard)\n\u003cbr  /\u003e\u003cimg src\u003d\"http://fluxcapacitor.com/img/jaccard-similarity-1.png\" alt\u003d\"Jaccard Similarity\" /\u003e\n\u003cbr  /\u003e\u003cimg src\u003d\"http://fluxcapacitor.com/img/jaccard-similarity-2.png\" alt\u003d\"Jaccard Similarity\" /\u003e\u003c/p\u003e\n"
      },
      "dateCreated": "Jan 15, 2016 4:51:06 AM",
      "dateStarted": "Feb 5, 2016 5:53:50 AM",
      "dateFinished": "Feb 5, 2016 5:53:50 AM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Exact Jaccard Similarity",
      "text": "val set1 \u003d Set(0,1,2)\nval set2 \u003d Set(1,2,3)\n// ... many more sets ...\n\nval intersectionSize \u003d (set1 intersect set2).size\nval unionSize \u003d (set1 union set2).size\n\nval jaccardSimliarity \u003d if (unionSize \u003e 0) intersectionSize.toDouble / unionSize.toDouble",
      "dateUpdated": "Feb 5, 2016 5:51:49 AM",
      "config": {
        "colWidth": 12.0,
        "graph": {
          "mode": "table",
          "height": 300.0,
          "optionOpen": false,
          "keys": [],
          "values": [],
          "groups": [],
          "scatter": {}
        },
        "enabled": true,
        "editorMode": "ace/mode/scala",
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "jobName": "paragraph_1452910881954_1656345273",
      "id": "20160116-022121_106465995",
      "result": {
        "code": "SUCCESS",
        "type": "TEXT",
        "msg": "set1: scala.collection.immutable.Set[Int] \u003d Set(0, 1, 2)\nset2: scala.collection.immutable.Set[Int] \u003d Set(1, 2, 3)\nintersectionSize: Int \u003d 2\nunionSize: Int \u003d 4\njaccardSimliarity: AnyVal \u003d 0.5\n"
      },
      "dateCreated": "Jan 16, 2016 2:21:21 AM",
      "dateStarted": "Feb 5, 2016 5:51:49 AM",
      "dateFinished": "Feb 5, 2016 5:51:50 AM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md \n### Approximate Set Similarity\n\n![Locality Sensitive Hashing](http://fluxcapacitor.com/img/locality-sensitive-hashing.png)",
      "dateUpdated": "Feb 5, 2016 5:53:31 AM",
      "config": {
        "colWidth": 12.0,
        "graph": {
          "mode": "table",
          "height": 300.0,
          "optionOpen": false,
          "keys": [],
          "values": [],
          "groups": [],
          "scatter": {}
        },
        "enabled": true,
        "editorMode": "ace/mode/markdown",
        "editorHide": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "jobName": "paragraph_1454651570214_-1127551013",
      "id": "20160205-055250_21754846",
      "result": {
        "code": "SUCCESS",
        "type": "HTML",
        "msg": "\u003ch3\u003eApproximate Set Similarity\u003c/h3\u003e\n\u003cp\u003e\u003cimg src\u003d\"http://fluxcapacitor.com/img/locality-sensitive-hashing.png\" alt\u003d\"Locality Sensitive Hashing\" /\u003e\u003c/p\u003e\n"
      },
      "dateCreated": "Feb 5, 2016 5:52:50 AM",
      "dateStarted": "Feb 5, 2016 5:53:29 AM",
      "dateFinished": "Feb 5, 2016 5:53:29 AM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Pre-Process sets into buckets",
      "text": "import com.twitter.algebird.{ MinHasher, MinHasher32, MinHashSignature }\n\ncase class BucketSetMinHash(bucketId: Long, set: Set[Int], minHash: MinHashSignature) {\n  override def toString: String \u003d bucketId + \", \" + set + \", \" + minHash\n}\n\nval numHashes \u003d 10\nval minApproxLSHSimilarityThreshold \u003d 0.1\nval numBands \u003d MinHasher.pickBands(minApproxLSHSimilarityThreshold, numHashes)\n\nval minHasher \u003d new MinHasher32(numHashes, numBands)\n\nval buckets \u003d List(set1, set2).flatMap(set \u003d\u003e {\n  val setMinHashSignature \u003d minHasher.sum(set.map(element \u003d\u003e minHasher.init(element)))\n  val buckets \u003d minHasher.buckets(setMinHashSignature)\n  buckets.map(bucket \u003d\u003e\n    BucketSetMinHash(bucket, set, setMinHashSignature)\n  )\n}).groupBy(item \u003d\u003e item.bucketId)\n\nbuckets.size\n\nbuckets.mkString(\"\\n\")",
      "dateUpdated": "Feb 5, 2016 5:53:15 AM",
      "config": {
        "colWidth": 12.0,
        "graph": {
          "mode": "table",
          "height": 300.0,
          "optionOpen": false,
          "keys": [],
          "values": [],
          "groups": [],
          "scatter": {}
        },
        "enabled": true,
        "editorMode": "ace/mode/scala",
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "jobName": "paragraph_1452914732708_-1484241815",
      "id": "20160116-032532_300147999",
      "result": {
        "code": "SUCCESS",
        "type": "TEXT",
        "msg": "import com.twitter.algebird.{MinHasher, MinHasher32, MinHashSignature}\ndefined class BucketSetMinHash\nnumHashes: Int \u003d 10\nminApproxLSHSimilarityThreshold: Double \u003d 0.1\nnumBands: Int \u003d 10\nminHasher: com.twitter.algebird.MinHasher32 \u003d com.twitter.algebird.MinHasher32@7bbc450\nbuckets: scala.collection.immutable.Map[Long,List[BucketSetMinHash]] \u003d Map(-8313753672044323434 -\u003e List(-8313753672044323434, Set(1, 2, 3), MinHashSignature([B@6a468a19)), 4415788184199225070 -\u003e List(4415788184199225070, Set(0, 1, 2), MinHashSignature([B@b1cc84)), -5411488574132590260 -\u003e List(-5411488574132590260, Set(1, 2, 3), MinHashSignature([B@6a468a19)), 735359762926455179 -\u003e List(735359762926455179, Set(0, 1, 2), MinHashSignature([B@b1cc84)), 7317943147017192055 -\u003e List(7317943147017192055, Set(1, 2, 3), MinHashSignature([B@6a468a19)), -439320264824263901 -\u003e List(-439320264824263901, Set(0, 1, 2), MinHashSignature([B@b1cc84), -439320264824263901, Set(1, 2, 3), MinHashSignature([B@6a468a19)), -6353613501101050625 -\u003e List(-6353613501101050625, Set(1, 2, 3), MinHashSignature([B@6a468...res69: Int \u003d 16\nres71: String \u003d \n-8313753672044323434 -\u003e List(-8313753672044323434, Set(1, 2, 3), MinHashSignature([B@6a468a19))\n4415788184199225070 -\u003e List(4415788184199225070, Set(0, 1, 2), MinHashSignature([B@b1cc84))\n-5411488574132590260 -\u003e List(-5411488574132590260, Set(1, 2, 3), MinHashSignature([B@6a468a19))\n735359762926455179 -\u003e List(735359762926455179, Set(0, 1, 2), MinHashSignature([B@b1cc84))\n7317943147017192055 -\u003e List(7317943147017192055, Set(1, 2, 3), MinHashSignature([B@6a468a19))\n-439320264824263901 -\u003e List(-439320264824263901, Set(0, 1, 2), MinHashSignature([B@b1cc84), -439320264824263901, Set(1, 2, 3), MinHashSignature([B@6a468a19))\n-6353613501101050625 -\u003e List(-6353613501101050625, Set(1, 2, 3), MinHashSignature([B@6a468a19))\n-286656788057706578 -\u003e List(-286656788057706578, Set(0, 1,..."
      },
      "dateCreated": "Jan 16, 2016 3:25:32 AM",
      "dateStarted": "Feb 5, 2016 5:51:50 AM",
      "dateFinished": "Feb 5, 2016 5:51:51 AM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Compare Sets within each bucket",
      "text": "val minApproxLSHSimilarityThreshold \u003d 0.5\n\nval similarItemsWithBuckets \u003d buckets.mapValues(items \u003d\u003e { \n  val allItemPairs \u003d\n    for {\n      item1 \u003c- items\n      item2 \u003c- items\n    } yield (item1, item2)\n  \n  val similarItemPairs \u003d allItemPairs\n    .map(itemPair \u003d\u003e \n      (itemPair._1.set, itemPair._2.set, minHasher.similarity(itemPair._1.minHash, itemPair._2.minHash)))\n    .filter(_._3 \u003e\u003d minApproxLSHSimilarityThreshold) \n    \n  similarItemPairs  \n})\n\nsimilarItemsWithBuckets.mkString(\"\\n\")\nsimilarItemsWithBuckets.size",
      "dateUpdated": "Feb 5, 2016 5:51:49 AM",
      "config": {
        "colWidth": 12.0,
        "graph": {
          "mode": "table",
          "height": 300.0,
          "optionOpen": false,
          "keys": [],
          "values": [],
          "groups": [],
          "scatter": {}
        },
        "enabled": true,
        "title": true,
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "jobName": "paragraph_1454637709158_1042071132",
      "id": "20160205-020149_351681937",
      "result": {
        "code": "SUCCESS",
        "type": "TEXT",
        "msg": "minApproxLSHSimilarityThreshold: Double \u003d 0.5\nsimilarItemsWithBuckets: scala.collection.immutable.Map[Long,List[(Set[Int], Set[Int], Double)]] \u003d Map(-8313753672044323434 -\u003e List((Set(1, 2, 3),Set(1, 2, 3),1.0)), 4415788184199225070 -\u003e List((Set(0, 1, 2),Set(0, 1, 2),1.0)), -5411488574132590260 -\u003e List((Set(1, 2, 3),Set(1, 2, 3),1.0)), 735359762926455179 -\u003e List((Set(0, 1, 2),Set(0, 1, 2),1.0)), 7317943147017192055 -\u003e List((Set(1, 2, 3),Set(1, 2, 3),1.0)), -439320264824263901 -\u003e List((Set(0, 1, 2),Set(0, 1, 2),1.0), (Set(1, 2, 3),Set(1, 2, 3),1.0)), -6353613501101050625 -\u003e List((Set(1, 2, 3),Set(1, 2, 3),1.0)), -286656788057706578 -\u003e List((Set(0, 1, 2),Set(0, 1, 2),1.0)), 5652451143605684311 -\u003e List((Set(0, 1, 2),Set(0, 1, 2),1.0), (Set(1, 2, 3),Set(1, 2, 3),1.0)), 7638007176457950763 -\u003e List((Set(0, 1, 2),Set(0, 1, 2),1.0), (Set(1,...res75: String \u003d \n-8313753672044323434 -\u003e List((Set(1, 2, 3),Set(1, 2, 3),1.0))\n4415788184199225070 -\u003e List((Set(0, 1, 2),Set(0, 1, 2),1.0))\n-5411488574132590260 -\u003e List((Set(1, 2, 3),Set(1, 2, 3),1.0))\n735359762926455179 -\u003e List((Set(0, 1, 2),Set(0, 1, 2),1.0))\n7317943147017192055 -\u003e List((Set(1, 2, 3),Set(1, 2, 3),1.0))\n-439320264824263901 -\u003e List((Set(0, 1, 2),Set(0, 1, 2),1.0), (Set(1, 2, 3),Set(1, 2, 3),1.0))\n-6353613501101050625 -\u003e List((Set(1, 2, 3),Set(1, 2, 3),1.0))\n-286656788057706578 -\u003e List((Set(0, 1, 2),Set(0, 1, 2),1.0))\n5652451143605684311 -\u003e List((Set(0, 1, 2),Set(0, 1, 2),1.0), (Set(1, 2, 3),Set(1, 2, 3),1.0))\n7638007176457950763 -\u003e List((Set(0, 1, 2),Set(0, 1, 2),1.0), (Set(1, 2, 3),Set(1, 2, 3),1.0))\n-3282176144160467053 -\u003e List((Set(0, 1, 2),Set(0, 1, 2),1.0))\n-120349...res76: Int \u003d 16\n"
      },
      "dateCreated": "Feb 5, 2016 2:01:49 AM",
      "dateStarted": "Feb 5, 2016 5:51:50 AM",
      "dateFinished": "Feb 5, 2016 5:51:52 AM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "dateUpdated": "Feb 5, 2016 5:51:49 AM",
      "config": {
        "colWidth": 12.0,
        "graph": {
          "mode": "table",
          "height": 300.0,
          "optionOpen": false,
          "keys": [],
          "values": [],
          "groups": [],
          "scatter": {}
        },
        "enabled": true,
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "jobName": "paragraph_1454647618616_557813923",
      "id": "20160205-044658_1348228575",
      "result": {
        "code": "SUCCESS",
        "type": "TEXT"
      },
      "dateCreated": "Feb 5, 2016 4:46:58 AM",
      "dateStarted": "Feb 5, 2016 5:51:52 AM",
      "dateFinished": "Feb 5, 2016 5:51:52 AM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    }
  ],
  "name": "Clustering/01:  Exact (Jaccard) vs. Approximate Set Similarity (LSH)",
  "id": "2BBMC1Y3V",
  "angularObjects": {
    "2ARR8UZDJ": [],
    "2AS9P7JSA": [],
    "2AR33ZMZJ": []
  },
  "config": {
    "looknfeel": "default"
  },
  "info": {}
}